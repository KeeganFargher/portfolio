dependencies:
jobs: # basic units of work in a run
    build: # runs not using Workflows must have a `build` job as entry point
        docker: # run the steps with Docker
            # CircleCI node images available at: https://hub.docker.com/r/circleci/node/
            - image: circleci/ruby:2.4.1
        steps:
            - checkout
            - attach_workspace:
                  # Must be absolute path or relative path from working_directory
                  at: /var/www/keeganfargher.co.za/public_html
deployment:
    prod:
        branch: master
        commands:
            - sudo sshpass -p "$SSH_USER" rsync -avz ./public $SSH_HOST:/var/www/keeganfargher.co.za/public_html

test:
    override:
        - 'true'
